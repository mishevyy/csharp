# Интерфейсы

Интерфейс - используется для специфицирования услуг, предоставляемых классом.
Интерфейс определяет границу взаимодействия между классами, специфицируя определенную абстракцию, которую осуществляет реализующая сторона

Специфика интерфейсов:

1. Невозможно создать экземпляр интерфейса
2. С версии 8.0 возможна реализация в интерфейсах
3. Члены интерфейсов по умолчанию являются открытыми
4. Интерфейс может состоять только из свойств и методов
5. Класс или структура должна явно реализовывать наследуемый интерфейс
6. Допускается множественное наследование от интерфейсов
7. Однако если базовый класс реализует интерфейс, производный также класс наследует эту реализацию.
8. Интерфейс может наследоваться от одного или нескольких базовых интерфейсов.
9. Базовый класс также может реализовать члены интерфейса с помощью виртуальных членов. В этом случае производный класс может изменить
поведение интерфейса путем переопределения виртуальных членов.
10. Если класс реализует два интерфейса, содержащих член с одинаковой сигнатурой, то при реализации этого члена в классе оба интерфейса
будут использовать этот член для своей реализации.
11. Если члены двух интерфейсов с одинаковой сигнатурой методов должны выполнять различные действия при их реализации, необходимо воспользоваться явной реализацией члена интерфейса — техникой явного указания в имени члена имени интерфейса, которому принадлежит данный член. Это достигается путем включения в имя члена класса имени интерфейса с точкой. Данный член в производном классе будет помечен по умолчанию как скрытый.

Преимущества использования интерфейсов:

1. Класс или структура может реализовать несколько интерфейсов.
2. Если класс или структура реализует интерфейс, она получает только имена и сигнатуры метода
3. Интерфейсы определяют поведение экземпляров производных классов
4. Базовый класс может обладать ненужным функционалом, полученным от других его базовых классов, чего можно избежать, применяя интерфейсы

```c#
interface IInterface
{
    void Method();

    void Method2() // С версии c# 8.0 появилась реализация по умолчанию
    {
        Console.WriteLine("Hello from interfeis");
    }
}

class MyClass : IInterface // Наследование от интерфейса
{
    // Реализация интерфейса
    public string Name { get; set; }

    // Реализация интерфейса
    public void Method()
    {
        Console.WriteLine("Метод - реализация интерфейса");
    }

    public void ClassMethod()
    {
        Console.WriteLine("Метод - класса");
    }
}

interface IInterfaceOne
{
    void Method1();
    void Method2();
}
interface IInterfaceTwo
{
    void Method1();
    void Method2();
}

class MyClassTest : IInterfaceOne, IInterfaceTwo
{
    // Конкретная реализация метода для интерфейсов, которые содержат одинаковое наименование метода
    void IInterfaceOne.Method1()
    {
        Console.WriteLine("Реализация интерфеса 1");
    }

    // Конкретная реализация метода для интерфейсов, которые содержат одинаковое наименование метода
    void IInterfaceTwo.Method1()
    {
        Console.WriteLine("Реализация интерфеса 2");
    }

    // Один метод, для 2х интерфейсов, которые содержат одинаковое наименование метода
    public void Method2()
    {
        Console.WriteLine("Реализация общего метода для интерфесов 1 и 2");
    }

    public void Method()
    {
        Console.WriteLine("Реализация метода класса");
    }
}
```
## Методы интерфейса по умолчанию (Новые возможности C# 8.0)

Теперь вы можете добавлять члены в интерфейсы и предоставлять реализацию для этих членов. Эта возможность языка позволяет разработчикам API добавлять методы в интерфейс в более поздних версиях, не нарушая исходный код или совместимость на уровне двоичного кода с существующими реализациями этого интерфейса.
